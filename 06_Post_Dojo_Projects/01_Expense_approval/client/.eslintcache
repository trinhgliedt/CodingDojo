[{"C:\\Trinh\\Coding_Dojo\\06_Post_Dojo_Projects\\01_Expense_approval\\client\\src\\index.js":"1","C:\\Trinh\\Coding_Dojo\\06_Post_Dojo_Projects\\01_Expense_approval\\client\\src\\views\\EditCity.js":"2","C:\\Trinh\\Coding_Dojo\\06_Post_Dojo_Projects\\01_Expense_approval\\client\\src\\views\\Cities.js":"3","C:\\Trinh\\Coding_Dojo\\06_Post_Dojo_Projects\\01_Expense_approval\\client\\src\\App.js":"4","C:\\Trinh\\Coding_Dojo\\06_Post_Dojo_Projects\\01_Expense_approval\\client\\src\\views\\NewCity.js":"5","C:\\Trinh\\Coding_Dojo\\06_Post_Dojo_Projects\\01_Expense_approval\\client\\src\\views\\Graph.js":"6","C:\\Trinh\\Coding_Dojo\\06_Post_Dojo_Projects\\01_Expense_approval\\client\\src\\views\\Chart.js":"7","C:\\Trinh\\Coding_Dojo\\06_Post_Dojo_Projects\\01_Expense_approval\\client\\src\\views\\NotFound.js":"8","C:\\Trinh\\Coding_Dojo\\06_Post_Dojo_Projects\\01_Expense_approval\\client\\src\\serviceWorker.js":"9"},{"size":547,"mtime":1600913176708,"results":"10","hashOfConfig":"11"},{"size":3641,"mtime":1600913177153,"results":"12","hashOfConfig":"11"},{"size":4535,"mtime":1600913177067,"results":"13","hashOfConfig":"11"},{"size":1516,"mtime":1606264212998,"results":"14","hashOfConfig":"11"},{"size":2677,"mtime":1600913177286,"results":"15","hashOfConfig":"11"},{"size":1727,"mtime":1606263694245,"results":"16","hashOfConfig":"11"},{"size":1693,"mtime":1606264739335,"results":"17","hashOfConfig":"11"},{"size":149,"mtime":1600913177396,"results":"18","hashOfConfig":"11"},{"size":5086,"mtime":1600913176917,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"81f0yn",{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"22"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Trinh\\Coding_Dojo\\06_Post_Dojo_Projects\\01_Expense_approval\\client\\src\\index.js",[],["40","41"],"C:\\Trinh\\Coding_Dojo\\06_Post_Dojo_Projects\\01_Expense_approval\\client\\src\\views\\EditCity.js",["42"],"import React, { useEffect, useState } from \"react\";\nimport { navigate, Link } from \"@reach/router\";\n\nimport axios from \"axios\";\n\nconst EditCity = (props) => {\n  const [name, setName] = useState(\"\");\n  const [population, setPopulation] = useState(\"\");\n  const [imgUrl, setImgUrl] = useState(\"\");\n  const [errors, setErrors] = useState(null);\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:8000/api/cities/\" + props.id)\n      .then((res) => {\n        console.log(\"edit city .then!!!\");\n        // console.log(res);\n        setName(res.data.name);\n        setPopulation(res.data.population);\n        setImgUrl(res.data.imgUrl);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }, []);\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    const editedCity = {\n      // long-form prop assignment\n      name: name,\n      // shorthand prop assignment when key name and var name are same\n      population,\n      imgUrl,\n    };\n\n    console.log(editedCity);\n\n    axios\n      .put(\"http://localhost:8000/api/cities/\" + props.id, editedCity)\n      // response from our server\n      .then((res) => {\n        console.log(res);\n        navigate(\"/cities\");\n      })\n      .catch((err) => {\n        // console.error(err);\n\n        // for validation errors to be sent here, the .catch in the controller method needs:\n        // res.status(400).json(err);\n        setErrors(err.response.data.errors);\n      });\n  }\n\n  return (\n    <div className=\"container\">\n      <form\n        onSubmit={(event) => {\n          handleSubmit(event);\n        }}\n      >\n        <div className=\"form-group\">\n          <label>Name: </label>\n          <input\n            onChange={(event) => {\n              setName(event.target.value);\n            }}\n            // value prop / attribute is only needed when we\n            // need to be able to change the input boxes value\n            // by setting it's state var\n            // without this, only the user can update the input box's value\n            value={name}\n            type=\"text\"\n            className=\"form-control\"\n          />\n          {errors?.name && (\n            <span className=\"text-danger\">{errors.name?.message}</span>\n          )}\n        </div>\n\n        <div className=\"form-group\">\n          <label>Population: </label>\n          <input\n            onChange={(event) => {\n              setPopulation(event.target.value);\n            }}\n            value={population}\n            type=\"number\"\n            min=\"0\"\n            className=\"form-control\"\n          />\n          {errors?.population && (\n            <span className=\"text-danger\">{errors.population?.message}</span>\n          )}\n        </div>\n\n        <div className=\"form-group\">\n          <label>ImgUrl: </label>\n          <input\n            onChange={(event) => {\n              setImgUrl(event.target.value);\n            }}\n            value={imgUrl}\n            type=\"text\"\n            className=\"form-control\"\n          />\n          {errors?.imgUrl && (\n            <span className=\"text-danger\">{errors.imgUrl?.message}</span>\n          )}\n        </div>\n        <button className=\"btn btn-success mr-2\">Submit</button>\n        <Link to=\"/cities\">Cancel</Link>\n\n        {/* <button\n          onClick={(event) => {\n            // since this button is in a form\n            // if we don't want it to submit the form,\n            // must preventDefault behavior\n            event.preventDefault();\n            navigate(\"/cities\");\n          }}\n          className=\"btn btn-info\"\n        >\n          Cancel\n        </button> */}\n      </form>\n    </div>\n  );\n};\n\nexport default EditCity;\n","C:\\Trinh\\Coding_Dojo\\06_Post_Dojo_Projects\\01_Expense_approval\\client\\src\\views\\Cities.js",[],"C:\\Trinh\\Coding_Dojo\\06_Post_Dojo_Projects\\01_Expense_approval\\client\\src\\App.js",[],"C:\\Trinh\\Coding_Dojo\\06_Post_Dojo_Projects\\01_Expense_approval\\client\\src\\views\\NewCity.js",[],"C:\\Trinh\\Coding_Dojo\\06_Post_Dojo_Projects\\01_Expense_approval\\client\\src\\views\\Graph.js",[],"C:\\Trinh\\Coding_Dojo\\06_Post_Dojo_Projects\\01_Expense_approval\\client\\src\\views\\Chart.js",[],"C:\\Trinh\\Coding_Dojo\\06_Post_Dojo_Projects\\01_Expense_approval\\client\\src\\views\\NotFound.js",[],"C:\\Trinh\\Coding_Dojo\\06_Post_Dojo_Projects\\01_Expense_approval\\client\\src\\serviceWorker.js",[],{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","replacedBy":"46"},{"ruleId":"47","severity":1,"message":"48","line":25,"column":6,"nodeType":"49","endLine":25,"endColumn":8,"suggestions":"50"},"no-native-reassign",["51"],"no-negated-in-lhs",["52"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.id'. Either include it or remove the dependency array.","ArrayExpression",["53"],"no-global-assign","no-unsafe-negation",{"desc":"54","fix":"55"},"Update the dependencies array to be: [props.id]",{"range":"56","text":"57"},[714,716],"[props.id]"]